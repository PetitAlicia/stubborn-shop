{% extends 'base.html.twig' %}

{% block title %}{{ sweatshirt.name }}{% endblock %}

{% block body %}
    <h1>{{ sweatshirt.name }}</h1>

    <div class="show-product">
        <img src="{{ asset('uploads/images/' ~ sweatshirt.image) }}" alt="Image de {{ sweatshirt.name }}" />
        <div class="show-product-infos">
            <div class="show-product-name-price">
                <p>{{ sweatshirt.name }}</p>
                <p class="price">{{ sweatshirt.price|number_format(2, ',', ' ') }} â‚¬</p>
            </div>

            <form action="{{ path('app_cart_add', {'id': sweatshirt.id}) }}" method="post">
                <label for="size">Taille</label>
                <select name="size" id="size" required>
                    {% set sizes = ['XS', 'S', 'M', 'L', 'XL'] %}
                    {% for size in sizes %}
                    {% if sweatshirt.getStockBySize(size) > 0 %}
                        <option value="{{ size }}">{{ size }} (En stock)</option>
                    {% else %}
                        <option value="{{ size }}" disabled>{{ size }} (Rupture de stock)</option>
                    {% endif %}
                    {% endfor %}
                </select>

                <button type="submit">Ajouter au panier</button>
            </form>
        </div>
    </div>
{% endblock %}
